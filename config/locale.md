#### Locale

#### Linux

[wiki](https://wiki.archlinux.org/index.php/locale)

I don't have ``locale -a`` for enabled locales. But

> Before a locale can be enabled on the system, it must be generated. This can be achieved by uncommenting applicable entries in ``/etc/locale.gen``, and running ``locale-gen``. 

> Equivalently, commenting entries disables their respective locales.

My current setup:

``/etc/locale.gen``:

```
..
en_GB.UTF-8 UTF-8
..
# en_US.UTF-8 UTF-8
..

```

Here is a perl one-liner

```
perl -pi -e 's/# en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/g' /etc/locale.gen
```

#### Experiment

I experiment by switching them.  Then

```
$ sudo locale-gen en_US.UTF-8
Generating locales (this might take a while)...
  en_US.UTF-8... done
Generation complete.
```

This looks familiar, from running the ``raspi-config`` tool.

Run ``sudo locale-gen``.

```
pi@raspberrypi:~$ sudo locale-gen
Generating locales (this might take a while)...
  en_GB.UTF-8... done
Generation complete.
```

But

```
$ sudo cat /etc/default/locale
#  File generated by update-locale
LANG=en_US.UTF-8
```

``update-locale`` fails, and ``locale`` prints

```
$ locale
locale: Cannot set LC_CTYPE to default locale: No such file or directory
locale: Cannot set LC_MESSAGES to default locale: No such file or directory
locale: Cannot set LC_ALL to default locale: No such file or directory
LANG=en_US.UTF-8
LANGUAGE=
LC_CTYPE="en_US.UTF-8"
LC_NUMERIC="en_US.UTF-8"
LC_TIME="en_US.UTF-8"
LC_COLLATE="en_US.UTF-8"
LC_MONETARY="en_US.UTF-8"
LC_MESSAGES="en_US.UTF-8"
LC_PAPER="en_US.UTF-8"
LC_NAME="en_US.UTF-8"
LC_ADDRESS="en_US.UTF-8"
LC_TELEPHONE="en_US.UTF-8"
LC_MEASUREMENT="en_US.UTF-8"
LC_IDENTIFICATION="en_US.UTF-8"
LC_ALL=
```

As a first attempt, reboot and then look again, nope.

#### Other attempts (from the wiki)

https://daker.me/2014/10/how-to-fix-perl-warning-setting-locale-failed-in-raspbian.html

```
export LANGUAGE=en_US.UTF-8
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
```

The last one gives a warning and now I find that it's set:

```
$ locale
..
LC_ALL=en_US.UTF-8
```

So then

```
$ sudo dpkg-reconfigure locales
```

Brings up ``raspi-config``!!!  What I'm trying to avoid.


https://raspberrypi.stackexchange.com/questions/43550/unable-to-reconfigure-locale-in-raspberry-pi

#### more

sudo apt-get install locales
